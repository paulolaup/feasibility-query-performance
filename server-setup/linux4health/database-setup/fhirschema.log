2023-10-26 00:22:41.339 00000001 WARNING forhealth.fhir.schema.app.Main Connection pool size below minimum headroom. Setting it to 10
2023-10-26 00:22:41.390 00000001    INFO .common.JdbcConnectionProvider Opening connection to database: jdbc:postgresql://localhost:5432/fhirdb
2023-10-26 00:22:41.468 00000001  SEVERE forhealth.fhir.schema.app.Main schema tool failed

org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
org.linuxforhealth.fhir.database.utils.api.ConnectionException: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.linuxforhealth.fhir.database.utils.postgres.PostgresTranslator.translate(PostgresTranslator.java:97)
	at org.linuxforhealth.fhir.database.utils.common.JdbcConnectionProvider.getConnection(JdbcConnectionProvider.java:54)
	at org.linuxforhealth.fhir.database.utils.pool.PoolConnectionProvider.getConnection(PoolConnectionProvider.java:154)
	at org.linuxforhealth.fhir.database.utils.common.CommonDatabaseAdapter.runStatement(CommonDatabaseAdapter.java:416)
	at org.linuxforhealth.fhir.database.utils.postgres.PostgresAdapter.doesTableExist(PostgresAdapter.java:150)
	at org.linuxforhealth.fhir.database.utils.common.PlainSchemaAdapter.doesTableExist(PlainSchemaAdapter.java:162)
	at org.linuxforhealth.fhir.database.utils.model.Table.exists(Table.java:930)
	at org.linuxforhealth.fhir.database.utils.version.CreateControl.createTableIfNeeded(CreateControl.java:72)
	at org.linuxforhealth.fhir.schema.app.Main.updateSchemas(Main.java:445)
	at org.linuxforhealth.fhir.schema.app.Main.process(Main.java:1882)
	at org.linuxforhealth.fhir.schema.app.Main.main(Main.java:2007)
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:319)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:247)
	at org.postgresql.Driver.makeConnection(Driver.java:434)
	at org.postgresql.Driver.connect(Driver.java:291)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:190)
	at org.linuxforhealth.fhir.database.utils.common.JdbcConnectionProvider.getConnection(JdbcConnectionProvider.java:42)
	... 9 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:689)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:547)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:602)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:241)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:109)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)
	... 16 more
2023-10-26 00:22:41.471 00000001  SEVERE forhealth.fhir.schema.app.Main SCHEMA CHANGE: RUNTIME ERROR
